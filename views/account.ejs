<%- include('components/template') %>
<head>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://yt3.googleusercontent.com/IVqzx0L3Ffpapttg-WK5yU9frk4AIVKixHnmmQjQ7RLrt4e66-7Ox6srKG_QVat5ceEq-98-s9s=s160-c-k-c0x00ffffff-no-rj">
</head>

<body class="bg-[#010103] text-gray-300" style="font-family: 'Inter'" x-data="{ sidebarOpen: false }" @keydown.escape="sidebarOpen = false">
<!-- Main Content -->
<main class="flex-grow container mx-auto px-4 py-8">
   <div class="flex justify-between items-center w-full mx-auto pb-4">
       <!-- Welcome text and subtext on the left -->
       <div class="flex flex-col">
           <h1 class="text-xl font-semibold mb-0.5 heavy">Account information</h1>
           <p class="text-gray-400 text-md">View and manage the credentials to your account.</p>
       </div>

       <!-- Breadcrumbs on the right -->
       <nav aria-label="Breadcrumb" class="inline-flex py-2 px-4 rounded-xl bg-white/5 transition-colors duration-200">
           <ol role="list" class="flex items-center space-x-2">
               <li>
                   <a href="#_" class="text-sm flex items-center gap-2 text-zinc-400 hover:text-zinc-200 transition-colors duration-200" aria-current="false">
                       <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler size-4 icons-tabler-outline icon-tabler-home">
                           <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                           <path d="M5 12l-2 0l9 -9l9 9l-2 0"></path>
                           <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path>
                           <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"></path>
                       </svg>
                       <span>Home</span>
                   </a>
               </li>
               <li class="flex items-center">
                   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-right size-4 text-zinc-400">
                       <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                       <path d="M9 6l6 6l-6 6"></path>
                   </svg>
               </li>
               <li>
                   <a href="#_" class="text-sm flex items-center gap-2 font-medium text-white/80 hover:text-white transition-colors duration-200" aria-current="page">
                       Account
                   </a>
               </li>
           </ol>
       </nav>
   </div>

   <!-- Credentials Content -->
   <div class="mt-12 flex justify-center">
       <div class="text-center w-full max-w-md">
           <h2 class="text-2xl font-bold mb-4">Credentials</h2>
           <p class="text-gray-400 mb-6">Use these credentials to access certain actions.</p>
           <!-- Current Credentials -->
           <div class="mb-8">
               <div class="mb-4">
                   <input value="<%= user.email %>" class="transition ease-in-out delay-100 shadow-sm block w-full sm:text-sm rounded-lg bg-white/5 text-white border-white/5 focus:ring-indigo-500 focus:border-indigo-500" disabled>
               </div>       
            </div>
           <!-- Password Change Section -->
           <div class="border-t border-white/15 pt-8">
               <h3 class="text-lg font-semibold mb-4">Set a new password</h3>
               <form id="change-password-form" action="/change-password" method="POST" class="space-y-4">
                   <div>
                       <input type="password" id="currentPassword" placeholder="Current Password" class="transition ease-in-out delay-100 shadow-sm block w-full sm:text-sm rounded-lg bg-white/5 placeholder-white/60 text-white border-white/5 focus:ring-indigo-500 focus:border-indigo-500">
                   </div>
                   <div>
                       <input type="password" id="newPassword" placeholder="New Password" class="transition ease-in-out delay-100 shadow-sm block w-full sm:text-sm rounded-lg placeholder-white/60 bg-white/5 text-white border-white/5 focus:ring-indigo-500 focus:border-indigo-500">
                   </div>
                   <p class="text-sm text-white/70 text-left py-2.5">
                       Password must contain:
                       <br>• At least 8 characters
                       <br>• One uppercase letter
                       <br>• One lowercase letter
                       <br>• One number
                   </p>
                   <div class="flex justify-between gap-4 mt-6">
                       <button type="submit" class="flex-1 font-medium bg-indigo-500 text-white px-4 py-2 rounded-xl text-sm hover:scale-95 hover:bg-indigo-600 transition">
                        <%= req.translations.update_password %>
                       </button>
                   </div>
               </form>
           </div>
       </div>
   </div>
</main>

<script>
   document.addEventListener('DOMContentLoaded', () => {
       const currentPasswordInput = document.getElementById('currentPassword');
       const newPasswordInput = document.getElementById('newPassword');
       const changePasswordBtn = document.querySelector('#change-password-form button[type="submit"]');
   
       function toggleChangePasswordButton() {
           if (currentPasswordInput.value.trim() !== '' && newPasswordInput.value.trim() !== '') {
               changePasswordBtn.disabled = false;
           } else {
               changePasswordBtn.disabled = true;
           }
       }

       currentPasswordInput.addEventListener('input', toggleChangePasswordButton);
       newPasswordInput.addEventListener('input', toggleChangePasswordButton);
       toggleChangePasswordButton();
   });
</script>

</body>
